/* 
 * Now.js v0.1.3 
 *  
 * https://github.com/hbi99/nowjs.js 
 * 
 * Copyright (c) 2013-2015, Hakan Bilgin <hbi@longscript.com> 
 * Licensed under the MIT License 
 */ 
if("undefined"==typeof module)var module={exports:void 0};module.exports=Now=function(a,b,c){"use strict";function d(a){this._methods=[],this._owner=a,this._paused=!1}function e(a,b){var c="GET",d=new XMLHttpRequest;if("withCredentials"in d)d.open(c,b,!0);else{if("undefined"==typeof XDomainRequest)throw"XHR not supported";d=new XDomainRequest,d.open(c,b)}return d.parent=a,d.onload=this.doload,d}function f(){var a={};return f.extendClass(a),a.queue=new d(a),a}return d.prototype={add:function(a){this._methods.push(a),this._paused||this.flush()},flush:function(){if(!this._paused)for(;this._methods[0];){var a=this._methods.shift();if(a.apply(this._owner,arguments),a._paused){this._paused=!0;break}}}},e.prototype={doload:function(a){var b=JSON.parse(a.target.responseText);this.parent.queue._paused=!1,this.parent.queue.flush(b)}},f.extendClass=function(a){for(var b in f.prototype)f.prototype.hasOwnProperty(b)&&(a[b]=f.prototype[b]);return a},f.prototype={fork:function(){return new f},wait:function(a){var b=this,c=function(){setTimeout(function(){b.queue._paused=!1,b.queue.flush()},a)};return c._paused=!0,this.queue.add(c),this},then:function(a){return a&&this.queue.add(a),this},ajax:function(a){var b=this,c=function(){var c=new e(b,a);c.send()};return c._paused=!0,this.queue.add(c),this},recursive:function(a){return a&&this.queue.add(a),this}},new f}(window,document);